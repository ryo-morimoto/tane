name = "tane"
main = "src/index.ts"
compatibility_date = "2025-04-01"
compatibility_flags = ["nodejs_compat"]

routes = [
  { pattern = "tane.ryo-o.dev", custom_domain = true },
]

[vars]
GITHUB_APP_SLUG = "tane-app"

# OAuth token storage (workers-oauth-provider)
[[kv_namespaces]]
binding = "OAUTH_KV"
id = "PLACEHOLDER"

# MCP session persistence
[[durable_objects.bindings]]
name = "MCP_SESSION"
class_name = "TaneMcpSession"

[[migrations]]
tag = "v1"
new_classes = ["TaneMcpSession"]
