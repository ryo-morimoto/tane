# Compound Engineering Schema
#
# OpenSpec custom schema that adds verify (demo.md), review, and learnings
# to the standard spec-driven workflow.
#
# Flow: proposal → specs → design → tasks → [implement] → demo → review → learnings → [archive]

name: compound
description: >
  Compound engineering workflow. Each change produces execution evidence (demo.md),
  a self-review (review.md), and learnings that compound across future changes.

artifacts:
  proposal:
    description: Why this change exists and what it achieves
    template: proposal
    depends_on: []

  specs:
    description: Delta specs with testable scenarios
    template: specs
    depends_on: [proposal]

  design:
    description: How to implement (architecture, data flow)
    template: design
    depends_on: [specs]

  tasks:
    description: Ordered implementation tasks for TDD
    template: tasks
    depends_on: [design]

  demo:
    description: >
      Execution evidence generated by Showboat.
      Created after all tasks are complete.
      MUST NOT be edited directly — only via showboat commands.
    template: null
    depends_on: [tasks]
    generated: true

  review:
    description: >
      Self-review of code + demo.
      [MUST FIX] items are auto-corrected (2 attempts max).
    template: review
    depends_on: [demo]

  learnings:
    description: >
      What was learned from this change.
      Appended to openspec/learnings/LEARNINGS.md on archive.
    template: learnings
    depends_on: [review]
